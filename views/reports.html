<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Website Diff Tool | Report</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/css/main.css">
  </head>

  <body role="document">

    <div class="navbar-collapse">
      <ul class="nav navbar-nav" style="display:inline-block;">
        <li style="display:inline-block;"><a href="./config">Configuration</a></li>
        <li style="display:inline-block;"><a href="./report">Current Report</a></li>
        <li style="display:inline-block;"><a href="./reports"><b>Run Log</b></a></li>
      </ul>
    </div>

    <div id="page-header">
      <h3 style="text-align:center;">Run Log</h3>
    </div>

    <div id="report-content">
      <pre style="max-height:350px; overflow-y:scroll; line-height:1.00;">
        {% for log_entry in log_entries %}
          {{log_entry}}
        {% endfor %}
      </pre>
    </div>

    <div id="log-operations">
      <button class="btn btn-primary btn-block" onclick="clear_logs()">Clear Log</button>
      <button class="btn btn-primary btn-block" onclick="download_logs()">Download Log</button>
    </div>


    <script type="text/javascript">

      function download_logs() {
        window.location.href = "./execution-log";
      }

      function clear_logs(){
        var url = "/execution-log";
        var client = new XMLHttpRequest();

        client.open("DELETE", url, false);
        client.send();

        if (client.status == 200)
          location.reload();
        else
          console.log("The request did not succeed!\n\nThe response status was: " + client.status + " " + client.statusText + ".");
      }
    </script>
  </body>
